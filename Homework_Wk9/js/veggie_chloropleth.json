{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 800,
    "height": 450,
    "title": "ðŸ¥¦ Annual Vegetable Consumption Per Capita ðŸ¥¬",
    "projection": {"type": "equalEarth"},
    "view": {"fill": "#d3f1ff", "stroke": null},
    "params": [{
      "name": "Year",
      "value": 2017,
      "bind": {
      "input": "range",
      "min": 1961,
      "max": 2017,
      "step": 1,
      "name": "Select the year:"
      }
      }
    ],
    "layer": [
      {
        "data": {
          "url": "world_map.json",
          "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
        },
        "mark": {"type": "geoshape", "fill": "#fffed2", "stroke": "#b3af53"}
      },
  
      {
        "data": {
          "url": "world_map.json",
          "format": {"type": "topojson", "feature": "ne_110m_graticules_30"}
        },
        "mark": {"type": "geoshape", "fill": null, "stroke": "black", "opacity": 0.15}
      },
      
      {
        "data": {"url": "veggie_data.csv"},
        
        "transform": [
          {"filter": "datum.Year == Year"}
        ],
  
        "mark": {"type": "geoshape"}, 
        "encoding": {
            "color": {
                "field": "Vegetable_Intake", 
                "type": "quantitative",
                "title": "Vegetable Consumption (kg)"
                },
            "tooltip": [
                {"field": "properties.NAME", "type": "nominal", "title": "Country"},
                {"field": "vegetable_intake", "type": "quantitative", "title": "Vegetable Consumption Per Capita"}
            ]
            }
          
        }

      
    ]
    
  }